{"version":3,"sources":["img/1.jpg","img/2.jpg","img/3.jpg","img/4.jpg","img/5.jpg","img/6.jpg","components/spinner/spinner.gif","services/bookstore-service.js","components/bookstore-Service-Context/bookstoreServiceContext.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-boundry/index.js","components/book-list-item/index.js","components/book-list-item/bookListItem.js","redux/actions/index.js","components/spinner/index.js","components/spinner/spinner.js","components/hoc/index.js","components/hoc/withBookStoreService.js","components/book-list/bookList.js","utils/index.js","components/book-list/index.js","components/pages/homePage.js","components/pages/cartPage.js","components/header/index.js","components/app/index.js","components/app/app.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["module","exports","BookstoreService","books","id","img","img1","title","author","price","rating","img2","img3","img4","img5","img6","Promise","res","rej","setTimeout","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","ErrorIndicator","ErrorBoundry","state","hasError","this","setState","props","children","Component","BookListItem","book","onClickAdd","items","src","alt","className","onClick","isItemInCart","forEach","item","console","log","fetchBooks","bookStoreService","dispatch","type","getBooks","then","data","payload","catch","err","booksError","Spinner","spinnerGif","WithBookStoreService","Wrapped","BookListContainer","loading","error","addItemToCart","BookList","info","name","slice","alert","map","key","connect","HomePage","totalInCart","onDecress","itemDecress","onIncress","itemIncress","onDelete","itemDelete","style","width","index","count","Math","ceil","toFixed","Header","numItems","total","to","aria-hidden","App","rol","path","exact","component","CartPage","initialState","reducer","actions","newItem","Number","newItems","decItems","incItems","delItems","filter","store","createStore","ReactDOM","render","value","document","getElementById"],"mappings":"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","file":"static/js/main.57ab71aa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/1.697d2691.jpg\";","module.exports = __webpack_public_path__ + \"static/media/2.d282bc8b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/3.be0e5527.jpg\";","module.exports = __webpack_public_path__ + \"static/media/4.b5e5b564.jpg\";","module.exports = __webpack_public_path__ + \"static/media/5.60766fe1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/6.b461b11e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/spinner.bc442313.gif\";","import img1 from \"../img/1.jpg\";\r\nimport img2 from \"../img/2.jpg\";\r\nimport img3 from \"../img/3.jpg\";\r\nimport img4 from \"../img/4.jpg\";\r\nimport img5 from \"../img/5.jpg\";\r\nimport img6 from \"../img/6.jpg\";\r\n\r\nclass BookstoreService {\r\n  books = [{\r\n      id: 1,\r\n      img: img1,\r\n      title: \"Fairy Portraits\",\r\n      author: \"Selina Fenech\",\r\n      price: \"9.49$\",\r\n      rating: 100,\r\n    },\r\n    {\r\n      id: 2,\r\n      img: img2,\r\n      title: \"Five-minute Stories\",\r\n      author: \"Cottage Door Press\",\r\n      price: \"11.69$\",\r\n      rating: 579,\r\n    },\r\n    {\r\n      id: 3,\r\n      img: img3,\r\n      title: \"Tell Me a Story\",\r\n      author: \"Louise deForest\",\r\n      price: \"31.97$\",\r\n      rating: 62,\r\n    },\r\n    {\r\n      id: 4,\r\n      img: img4,\r\n      title: \"Fairy Dog Heaven\",\r\n      author: \"Patrese Fischer\",\r\n      price: \"17.99$\",\r\n      rating: 37,\r\n    },\r\n    {\r\n      id: 5,\r\n      img: img5,\r\n      title: \"A Witch's Guide\",\r\n      author: \"Edain McCoy\",\r\n      price: \"21.99$\",\r\n      rating: 71,\r\n    },\r\n    {\r\n      id: 6,\r\n      img: img6,\r\n      title: \"The Girl Who Drank the Moon\",\r\n      author: \"Kelly Barnhill\",\r\n      price: \"4.49$\",\r\n      rating: 2522,\r\n    },\r\n  ];\r\n  getBooks() {\r\n\r\n    return new Promise((res, rej) => {\r\n      setTimeout(() => {\r\n        res(this.books)\r\n      }, 700)\r\n      //setTimeout(() => {\r\n      //  rej(new Error('errrr'))\r\n      //}, 1700)\r\n    });\r\n  }\r\n}\r\n\r\nexport default BookstoreService;","import React from \"react\";\r\n\r\nconst {\r\n  Provider: BookstoreServiceProvider,\r\n  Consumer: BookstoreServiceConsumer,\r\n} = React.createContext();\r\n\r\nexport {\r\n  BookstoreServiceProvider,\r\n  BookstoreServiceConsumer\r\n};","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;","import React from \"react\";\r\nimport \"./error-indicator.css\";\r\n\r\nconst ErrorIndicator = function () {\r\n  return <div> Error </div>;\r\n};\r\n\r\nexport default ErrorIndicator;\r\n","import React, { Component } from \"react\";\r\nimport ErrorIndicator from \"../error-indicator/index\";\r\n\r\nexport default class ErrorBoundry extends Component {\r\n  state = { hasError: false };\r\n  componentDidCatch() {\r\n    this.setState({ hasError: true });\r\n  }\r\n  render() {\r\n    if (this.state.hasError) return <ErrorIndicator />;\r\n    return this.props.children;\r\n  }\r\n}\r\n","import BookListItem from './bookListItem'\r\nexport default BookListItem;","import React from \"react\";\r\nimport \"./bookListItem.scss\";\r\n\r\nconst BookListItem = ({ book, onClickAdd, items }) => {\r\n  const { img, author, title, id, price, rating } = book;\r\n  return (\r\n    <>\r\n      <img src={img} alt={img} className=\"booksImage\" />\r\n      <div>\r\n        <span className=\"author\">\r\n          <i>author:</i> <b>{author}</b>{\" \"}\r\n        </span>\r\n        <span className=\"rating\">\r\n          Rating <span>{rating}</span>\r\n        </span>\r\n      </div>\r\n      <h5>{title}</h5>\r\n      <h3>Price: {price}</h3>\r\n      <div\r\n        className=\"btn btn-info\"\r\n        onClick={() => {\r\n          let isItemInCart = false;\r\n          items.forEach((item) => {\r\n            if (item.id === id) isItemInCart = true;\r\n          });\r\n          console.log(isItemInCart);\r\n          onClickAdd(id);\r\n        }}\r\n      >\r\n        <i className=\"fas fa-plus\"></i> Add To Cart\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookListItem;\r\n","const booksRequested = function () {\r\n    return {\r\n        type: 'FETCH_BOOKS_REQUEST',\r\n    }\r\n}\r\nconst booksLoaded = function (newBooks) {\r\n    return {\r\n        type: 'FETCH_BOOKS_SUCCESS',\r\n        payload: newBooks,\r\n    }\r\n}\r\nconst booksError = function (err) {\r\n    return {\r\n        type: 'FETCH_BOOKS_FAILURE',\r\n        payload: err,\r\n    }\r\n}\r\nconst addItemToCart = function (info) {\r\n    return {\r\n        type: 'ADD_ITEM_TO_CART',\r\n        payload: info,\r\n    }\r\n}\r\nconst itemDecress = function (id) {\r\n    return {\r\n        type: \"ITEM_DECRESS\",\r\n        payload: id,\r\n    }\r\n}\r\nconst itemIncress = function (id) {\r\n    return {\r\n        type: \"ITEM_INCRESS\",\r\n        payload: id,\r\n    }\r\n}\r\nconst itemDelete = function (id) {\r\n    return {\r\n        type: \"ITEM_DELETE\",\r\n        payload: id,\r\n    }\r\n}\r\n\r\nconst fetchBooks = (bookStoreService, dispatch) => () => {\r\n    dispatch(booksRequested());\r\n    bookStoreService\r\n        .getBooks()\r\n        .then((data) => dispatch(booksLoaded(data)))\r\n        .catch((err) => dispatch(booksError(err)));\r\n}\r\n\r\n\r\nexport {\r\n    fetchBooks,\r\n    addItemToCart,\r\n    itemDecress,\r\n    itemIncress,\r\n    itemDelete,\r\n}","import Spinner from \"./spinner\";\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\nimport spinnerGif from \"./spinner.gif\";\r\nimport \"./spinner.css\";\r\n\r\nconst Spinner = () => {\r\n  return <img src={spinnerGif} className=\"spinner\" />;\r\n};\r\n\r\nexport default Spinner;\r\n","import WithBookStoreService from './withBookStoreService';\r\nexport default WithBookStoreService;","import React from \"react\";\r\nimport { BookstoreServiceConsumer } from \"../bookstore-Service-Context\";\r\n\r\nconst WithBookStoreService = () => (Wrapped) => {\r\n  return (props) => {\r\n    return (\r\n      <BookstoreServiceConsumer>\r\n        {(bookStoreService) => {\r\n          return <Wrapped {...props} bookStoreService={bookStoreService} />;\r\n        }}\r\n      </BookstoreServiceConsumer>\r\n    );\r\n  };\r\n};\r\n\r\nexport default WithBookStoreService;\r\n","import React, { Component } from \"react\";\r\nimport BookListItem from \"../book-list-item\";\r\nimport { fetchBooks, addItemToCart } from \"../../redux/actions\";\r\nimport Spinner from \"../spinner\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\nimport { isItemInCart } from \"../../utils\";\r\nimport \"./bookList.scss\";\r\n\r\nimport WithBookStoreService from \"../hoc\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass BookListContainer extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchBooks();\r\n  }\r\n\r\n  render() {\r\n    const { books, items, loading, error, addItemToCart } = this.props;\r\n    if (error) {\r\n      return <ErrorIndicator />;\r\n    }\r\n    return loading ? (\r\n      <Spinner />\r\n    ) : (\r\n      <BookList books={books} items={items} addItemToCart={addItemToCart} />\r\n    );\r\n  }\r\n}\r\n\r\nconst BookList = ({ books, items, addItemToCart }) => {\r\n  console.log(items);\r\n  const onClickAdd = (id) => {\r\n    const info = {};\r\n    books.forEach((book) => {\r\n      if (book.id === id) {\r\n        info.name = book.title;\r\n        info.price = book.price.slice(0, -1);\r\n        info.id = id;\r\n      }\r\n    });\r\n    if (isItemInCart(id, items)) {\r\n      return alert(\"item already added to cart\");\r\n    }\r\n    addItemToCart(info);\r\n  };\r\n  return (\r\n    <ul className=\"mx-auto\">\r\n      {books.map((book) => (\r\n        <li key={book.id}>\r\n          <BookListItem book={book} onClickAdd={onClickAdd} items={items} />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ books, items, loading, error }) => {\r\n  return { books, items, loading, error };\r\n};\r\nconst mapDispatchToProps = (dispatch, { bookStoreService }) => {\r\n  return {\r\n    fetchBooks: fetchBooks(bookStoreService, dispatch),\r\n    addItemToCart: (info) => {\r\n      dispatch(addItemToCart(info));\r\n    },\r\n  };\r\n};\r\nexport default WithBookStoreService()(\r\n  connect(mapStateToProps, mapDispatchToProps)(BookListContainer)\r\n);\r\n","const setCharAt = function (str, index, chr) {\r\n    if (index > str.length - 1) return str;\r\n    return str.substr(0, index) + chr + str.substr(index + 1);\r\n}\r\n\r\nconst isItemInCart = function (id, items) {\r\n    let res = false;\r\n    items.forEach((item) => {\r\n        if (item.id === id) {\r\n            console.log(1)\r\n            res = true;\r\n        }\r\n    });\r\n    return res;\r\n}\r\n\r\nexport {\r\n    setCharAt,\r\n    isItemInCart\r\n};","import BookList from './bookList'\r\nexport default BookList;","import React from \"react\";\r\nimport BookListContainer from \"../book-list\";\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <>\r\n      <BookListContainer></BookListContainer>\r\n    </>\r\n  );\r\n};\r\nexport default HomePage;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { itemIncress, itemDecress, itemDelete } from \"../../redux/actions\";\r\nimport \"./pages.css\";\r\n\r\nconst CartPage = (props) => {\r\n  const { items, onDecress, onIncress, onDelete, totalInCart } = props;\r\n  console.log({ totalInCart });\r\n  function renderRow(item, index) {\r\n    const { name, count, price, id } = item;\r\n    return (\r\n      <tr key={index}>\r\n        <td>{index + 1}</td>\r\n        <td>{name}</td>\r\n        <td>\r\n          <h4>{count}</h4>\r\n        </td>\r\n        <td>{Math.ceil(count * price * 100) / 100}$</td>\r\n        <td>\r\n          <span>\r\n            <div\r\n              onClick={() => {\r\n                onDecress(id);\r\n              }}\r\n              className=\"btn btn-outline-success\"\r\n            >\r\n              <i className=\"fas fa-plus\"></i>\r\n            </div>\r\n            <div\r\n              onClick={() => {\r\n                onIncress(id);\r\n              }}\r\n              className=\"btn btn-outline-warning\"\r\n            >\r\n              <i className=\"fas fa-minus\"></i>\r\n            </div>\r\n            <div\r\n              onClick={() => {\r\n                onDelete(id);\r\n              }}\r\n              className=\"btn btn-outline-danger\"\r\n            >\r\n              <i className=\"fas fa-trash\"></i>\r\n            </div>\r\n          </span>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th style={{ width: \"40%\" }}>Item Name</th>\r\n            <th style={{ width: \"25%\" }}>Count</th>\r\n            <th>Total</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{items.map(renderRow)}</tbody>\r\n      </table>\r\n      <div className=\"row\">\r\n        <div className=\"col-sm-12 text-right\">\r\n          <h4 className=\"float-right\">Total {totalInCart.toFixed(2)}$</h4>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nconst mapStateToProps = ({ items, totalInCart }) => {\r\n  return {\r\n    items,\r\n    totalInCart,\r\n  };\r\n};\r\nconst mapDispachToProps = (dispatch) => {\r\n  return {\r\n    onDecress: (id) => {\r\n      dispatch(itemDecress(id));\r\n    },\r\n    onIncress: (id) => {\r\n      dispatch(itemIncress(id));\r\n    },\r\n    onDelete: (id) => {\r\n      dispatch(itemDelete(id));\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispachToProps)(CartPage);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./header.scss\";\r\n\r\nconst Header = ({ numItems, total, title }) => {\r\n  return (\r\n    <nav>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-4\">\r\n            <Link to=\"/\">\r\n              <div className=\"btn btn-default btn-sm\">\r\n                <i className=\"fas fa-home\"></i> Home\r\n              </div>\r\n            </Link>\r\n          </div>\r\n          <div className=\"col-sm-4 text-center headerTitle\">\r\n            <h2>{title}</h2>\r\n          </div>\r\n          <Link to=\"/cart\" className=\"col-sm-4 text-right cart\">\r\n            <i className=\"fa fa-shopping-cart\" aria-hidden=\"true\"></i>\r\n            <span className=\"itemsInCart\">{numItems} items</span>\r\n            <span className=\"total\">({total})</span>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import App from \"./app\";\r\n\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport \"./app.scss\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { HomePage, CartPage } from \"../pages/index\";\r\nimport Header from \"../header\";\r\n\r\nconst App = function () {\r\n  return (\r\n    <>\r\n      <Header title=\"My Book Store\" numItems={3} total={\"$250\"} />\r\n      <main rol=\"main\" className=\"container-fluid\">\r\n        <Switch>\r\n          <Route path=\"/\" exact component={HomePage} />\r\n          <Route path=\"/cart\" component={CartPage} />\r\n        </Switch>\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const initialState = {\r\n  books: [],\r\n  loading: true,\r\n  error: null,\r\n  items: [{\r\n      id: 6,\r\n      name: \"The Girl Who Drank the Moon\",\r\n      count: 2,\r\n      price: 4.49\r\n    },\r\n    {\r\n      id: 5,\r\n      name: \"A Witch's Guide\",\r\n      count: 3,\r\n      price: 21.99\r\n    },\r\n    {\r\n      id: 1,\r\n      name: \"Fairy Portraits\",\r\n      count: 1,\r\n      price: 9.49\r\n    }\r\n  ],\r\n  totalInCart: 80,\r\n};\r\n\r\n\r\nconst reducer = function (state = initialState, actions) {\r\n  let totalInCart = state.totalInCart;\r\n\r\n  switch (actions.type) {\r\n    case \"FETCH_BOOKS_REQUEST\":\r\n      return {\r\n        ...state,\r\n        books: [],\r\n          loading: true,\r\n          error: null,\r\n      };\r\n    case \"FETCH_BOOKS_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        books: actions.payload,\r\n          loading: false,\r\n          error: null,\r\n      };\r\n    case \"FETCH_BOOKS_FAILURE\":\r\n      return {\r\n        ...state,\r\n        books: [],\r\n          loading: false,\r\n          error: actions.payload,\r\n      };\r\n    case \"ADD_ITEM_TO_CART\":\r\n      let {\r\n        id, name, price\r\n      } = actions.payload;\r\n      const newItem = {\r\n        id,\r\n        name,\r\n        count: 1,\r\n        price: Number(price),\r\n      };\r\n      const newItems = [newItem, ...state.items];\r\n      totalInCart += newItem.price;\r\n      return {\r\n        ...state,\r\n        items: newItems,\r\n          totalInCart,\r\n      };\r\n    case \"ITEM_DECRESS\":\r\n      let decItems = state.items.map(item => {\r\n        if (item.id === actions.payload) {\r\n          const count = item.count + 1;\r\n          totalInCart += item.price;\r\n          return {\r\n            ...item,\r\n            count: count\r\n          }\r\n        };\r\n        return item;\r\n      })\r\n      return {\r\n        ...state,\r\n        items: decItems,\r\n          totalInCart,\r\n      };\r\n    case \"ITEM_INCRESS\":\r\n      let incItems = state.items.map(item => {\r\n        if (item.id === actions.payload) {\r\n          let count = 0\r\n          if (item.count > 0) {\r\n            count = item.count - 1;\r\n            totalInCart -= item.price;\r\n          };\r\n          return {\r\n            ...item,\r\n            count\r\n          }\r\n        };\r\n        return item;\r\n      })\r\n      return {\r\n        ...state,\r\n        items: incItems,\r\n          totalInCart,\r\n      };\r\n    case \"ITEM_DELETE\":\r\n      let delItems = state.items.filter(item => {\r\n        if (item.id === actions.payload) {\r\n          totalInCart -= (item.price * item.count);\r\n          return false\r\n        };\r\n        return true;\r\n      })\r\n      return {\r\n        ...state,\r\n        items: delItems,\r\n          totalInCart,\r\n      };\r\n    default:\r\n      return state;\r\n  };\r\n  // let sum = (acc, cur) => acc + cur;\r\n  // state.items\r\n  //   .map(item => item.count)\r\n  //   .reduce(sum, 0)\r\n  // state = {\r\n  //   ...state,\r\n  //   totalInCart: total\r\n  // }\r\n};\r\n\r\nexport default reducer;","import { createStore } from \"redux\";\r\nimport reducer from \"./reducers\";\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport BookstoreService from \"./services/bookstore-service\";\r\nimport { BookstoreServiceProvider } from \"./components/bookstore-Service-Context\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport ErrorBoundry from \"./components/error-boundry\";\r\nimport App from \"./components/app\";\r\nimport store from \"./redux/store\";\r\n\r\nconst bookStoreService = new BookstoreService();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ErrorBoundry>\r\n      <BookstoreServiceProvider value={bookStoreService}>\r\n        <Router>\r\n          <App />\r\n        </Router>\r\n      </BookstoreServiceProvider>\r\n    </ErrorBoundry>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}